<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Wishlist - Computer Hub</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <header>
        <div class="container header-content">
            <div class="logo">
                <img src="images/logo.png" alt="Computer Hub" style="height: 40px; display: block;">
                Computer Hub
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="cart.html" id="cart-link">Cart (0)</a></li>
                    <li id="auth-links"></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="container" style="padding: 40px 0;">
        <h2>My Wishlist</h2>

        <div id="wishlist-grid" class="products-grid">
            <p>Loading wishlist...</p>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/user.js"></script>

    <script>
        // Inline script for wishlist rendering (or could be in user.js)
        document.addEventListener('DOMContentLoaded', () => {
            if (!getCurrentUser()) {
                document.getElementById('wishlist-grid').innerHTML = '<p>Please <a href="login.html" style="color:var(--primary-color);">login</a> to view your wishlist.</p>';
                return;
            }

            const wishlistIds = getWishlist();
            const grid = document.getElementById('wishlist-grid');

            if (wishlistIds.length === 0) {
                grid.innerHTML = '<p>Your wishlist is empty.</p>';
                return;
            }

            grid.innerHTML = '';
            wishlistIds.forEach(id => {
                const product = getProductById(id);
                if (product) {
                    // Reuse card HTML roughly
                    // Simple version
                    const card = document.createElement('div');
                    card.className = 'product-card';
                    card.innerHTML = `
                        <img src="${product.image}" alt="${product.name}">
                        <div class="product-info">
                            <h3>${product.name}</h3>
                             <div class="price">$${product.price}</div>
                             <div class="actions">
                                <button onclick="addToCartHandler(${product.id})" class="btn">Add to Cart</button>
                                <button onclick="toggleWishlistHandler(event, ${product.id}); this.closest('.product-card').remove();" class="btn btn-secondary">Remove</button>
                             </div>
                        </div>
                    `;
                    grid.appendChild(card);
                }
            });
        });
    </script>
</body>

</html>